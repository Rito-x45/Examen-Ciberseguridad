<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registro de SCP</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Verificar sesión antes de mostrar contenido -->
  <script>
    fetch("/auth/session")
      .then((res) => {
        if (!res.ok) {
          // Si la sesión no es válida, redirige a login.html
          window.location.href = "/login.html";
        }
      });
  </script>

  <!-- Encabezado con el logo de la Fundación SCP -->
  <header>
    <img src="/public/Imagenes/logo.png" alt="Logo de la Fundación SCP" id="logo"/>
    <h1 class="glitch">[ 🔴 REGISTRO DE SCP ]</h1>
  </header>

  <!-- ALERTA / MENSAJES -->
  <div id="alerta"></div>

  <!-- FORMULARIO PARA AGREGAR SCP -->
  <form id="formulario-scp">
    <label for="numero_scp">Número SCP:</label>
    <input type="text" id="numero_scp" name="numero_scp" required placeholder="Ej: SCP-123" />

    <label for="clasificacion_contencion">Clasificación de Contención:</label>
    <input
      type="text"
      id="clasificacion_contencion"
      name="clasificacion_contencion" required
      placeholder="Euclid"
    />

    <label for="nivel_peligro">Nivel de Peligro:</label>
    <input
      type="text"
      id="nivel_peligro"
      name="nivel_peligro"
      required
      placeholder="verde"
    />

    <label for="ubicacion_actual">Ubicación Actual:</label>
    <input
      type="text"
      id="ubicacion_actual"
      name="ubicacion_actual"
      required
    />

    <label for="estado_investigacion">Estado de Investigación:</label>
    <input
      type="text"
      id="estado_investigacion"
      name="estado_investigacion"
      required
      placeholder="Contención"
    />

    <label for="descripcion">Descripción:</label>
    <textarea
      id="descripcion"
      name="descripcion"
      required
      placeholder="aaaaaa"
    ></textarea>

    <input type="submit" value="Agregar SCP" />
  </form>

  <!-- FORMULARIO PARA BUSCAR SCP POR NÚMERO -->
  <form id="formulario-buscar">
    <label for="buscar-numero">Buscar por Número SCP:</label>
    <input type="text" id="buscar-numero" placeholder="Ej: SCP-123" />
    <button type="submit">Buscar</button>
  </form>

  <!-- Resultado de la búsqueda -->
  <div id="resultado-busqueda"></div>

  <!-- TABLA PARA MOSTRAR LOS SCP -->
  <table id="tabla-scps">
    <thead>
      <tr>
        <th>NÚMERO SCP</th>
        <th>CLASIFICACIÓN</th>
        <th>PELIGRO</th>
        <th>UBICACIÓN</th>
        <th>ESTADO</th>
        <th>DESCRIPCIÓN</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <form id="register-form">
    <h2>Registro</h2>
    <input type="text" id="register-username" placeholder="Usuario" required />
    <input type="password" id="register-password" placeholder="Contraseña" required />
    <button type="submit">Registrarse</button>
  </form>
  
  <form id="login-form">
    <h2>Iniciar Sesión</h2>
    <input type="text" id="login-username" placeholder="Usuario" required />
    <input type="password" id="login-password" placeholder="Contraseña" required />
    <button type="submit">Ingresar</button>
  </form>
  
  <div id="perfil"></div>
  
  <button id="ver-perfil" style="display:none;">Ver Perfil</button>
  <button id="cerrar-sesion" style="display:none;">Cerrar Sesión</button>
  

  <!-- Archivo JS de la parte frontend -->
  <script src="main.js"></script>
</body>
</html>
